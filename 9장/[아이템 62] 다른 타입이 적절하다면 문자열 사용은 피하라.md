### 1. ë¬¸ìì—´ ì‚¬ìš©ì´ ë¶€ì ì ˆí•œ ê²½ìš°

- **ë‹¤ë¥¸ ê°’ íƒ€ì…**(ê¸°ë³¸ íƒ€ì…, ì—´ê±° íƒ€ì…)ì„ ëŒ€ì‹ í•  ë•Œ
    - íŒŒì¼, ë„¤íŠ¸ì›Œí¬, í‚¤ë³´ë“œ ì…ë ¥ìœ¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì„ ë•Œì—ë„ ì…ë ¥ë°›ì„ ë°ì´í„°ê°€ ì§„ì§œ ë¬¸ìì—´ íƒ€ì…ì¼ ë•Œë§Œ ë¬¸ìì—´ë¡œ ë°›ëŠ” ê²ƒì´ ì¢‹ë‹¤.
- **í˜¼í•© íƒ€ì…**ì„ ëŒ€ì‹ í•  ë•Œ
    - ì˜ˆì‹œ: `String compoundKey = className + "#" + i.next();`
    - ì´ëŠ” ìš”ì†Œë¥¼ ê°œë³„ë¡œ ì ‘ê·¼í•˜ë ¤ë©´ ë¬¸ìì—´ì„ íŒŒì‹±í•´ì•¼ í•˜ë©°, ì ì ˆí•œ equals, toString, compareTo ë©”ì„œë“œë¥¼ ì œê³µí•˜ì§€ ëª»í•œë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤.
- **ê¶Œí•œ**ì„ í‘œí˜„í•  ë•Œ
    - ë¬¸ìì—´ë¡œ ê¶Œí•œì„ í‘œí˜„í•˜ë©´ ë³´ì•ˆì— ì·¨ì•½í•˜ë‹¤.
    - ì˜ˆì‹œ: ìŠ¤ë ˆë“œ ì§€ì—­ë³€ìˆ˜ë¥¼ ë¬¸ìì—´ í‚¤ë¡œ ì‹ë³„í•˜ëŠ” ê²½ìš°
        
        ```java
        public class ThreadLocal {
            private ThreadLocal() { }
            public static void set(String key, Object value);
            public static Object get(String key);
        } 
        ```
        
        - ìë°” 1.2 ì´ì „ì—ëŠ” ìŠ¤ë ˆë“œ ì§€ì—­ë³€ìˆ˜ë¥¼ ê°œë°œìê°€ ì§ì ‘ ì„¤ê³„í–ˆê³ , í´ë¼ì´ì–¸íŠ¸ê°€ ì œê³µí•œ ë¬¸ìì—´ í‚¤ë¡œ ì§€ì—­ë³€ìˆ˜ë¥¼ ì‹ë³„í•˜ê¸°ê¹Œì§€ í–ˆë‹¤.
        - ê·¸ëŸ¬ë‚˜ ë‘ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë¡œ ê°™ì€ í‚¤ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, ë‘ í´ë¼ì´ì–¸íŠ¸ ëª¨ë‘ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šê³ , í‚¤ê°€ ì¡°ì‘ë  ìˆ˜ë„ ìˆë‹¤.
        
> ğŸ’¡Â ìŠ¤ë ˆë“œ ì§€ì—­ë³€ìˆ˜(`ThreadLocal`)ë€?
> 
> 
> ë©€í‹°ì“°ë ˆë“œ í™˜ê²½ì—ì„œ ì“°ë ˆë“œ ê°„ ê³µìœ ë˜ëŠ” ì „ì—­ ë³€ìˆ˜ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê¸°ìˆ ë¡œ, ì „ì—­ ë³€ìˆ˜ë¥¼ ê° ì“°ë ˆë“œ ë³„ë¡œ ê°œë³„ì ìœ¼ë¡œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
> 
> ìŠ¤ë ˆë“œ ì§€ì—­ë³€ìˆ˜ ì‚¬ìš© í›„ì—ëŠ” ë°˜ë“œì‹œ `release()` í•´ì£¼ì–´ì•¼ í•œë‹¤.
> 
> ë˜í•œ, Spring-MVCì˜ ë‚´ì¥ í†°ìº£ê°™ì´ Threadë¥¼ ì¬í™œìš©í•˜ëŠ” ê²½ìš°, ì´ì „ì— ì‚¬ìš©í•˜ë˜ ë°ì´í„°ê°€ ë‚¨ì•„ìˆì„ ìˆ˜ ìˆë‹¤.Â ë”°ë¼ì„œ ThreadLocalì„ ì‚¬ìš©í•œ ë’¤ì—ëŠ” ë°˜ë“œì‹œ `remove()`ë¥¼ í˜¸ì¶œí•´ì£¼ì.
> 

### 2. ì „ìš© íƒ€ì… í˜¹ì€ ì „ìš© í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ë¼

- ë¬´ë¶„ë³„í•œ ë¬¸ìì—´ ì‚¬ìš© ëŒ€ì‹  ì „ìš© íƒ€ì… í˜¹ì€ ì „ìš© í´ë˜ìŠ¤ ìƒì„±ì„ ê¶Œì¥í•œë‹¤.
- ì „ìš© í´ë˜ìŠ¤ëŠ” ì£¼ë¡œ `private static` ë©¤ë²„ í´ë˜ìŠ¤ë¡œ ì„ ì–¸í•œë‹¤.
- ì˜ˆì‹œ: ìŠ¤ë ˆë“œ ì§€ì—­ë³€ìˆ˜ë¥¼ **ì „ìš© í´ë˜ìŠ¤** í‚¤ë¡œ ì„ ì–¸í•œ ê²½ìš°
    
    ```java
    public class ThreadLocal {
        private ThreadLocal() {}
        
        public static class Key {
            key() {}
        }
        
        public static Key getKey() { return new Key(); }
        
        public static void set(Key key, Object value);
        public static Object get(Key key);
    }
    ```
    
- [ë¦¬íŒ©í† ë§] ì˜ˆì‹œ: ë¶ˆí•„ìš”í•œ ì¤‘ì²© êµ¬ì¡° ì œê±° í›„, ìŠ¤ë ˆë“œ ì§€ì—­ë³€ìˆ˜ë¥¼ **ë§¤ê°œë³€ìˆ˜í™” íƒ€ì…**ìœ¼ë¡œ í‚¤ë¡œ ì„ ì–¸í•œ ê²½ìš°
    
    ```java
    public final class ThreadLocal<T> {
        public ThreadLocal();
        public void set(T value);
        public T get();
    }
    ```
    
    - ë§¤ê°œë³€ìˆ˜í™” íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ ì»´íŒŒì¼ íƒ€ì„ì— íƒ€ì… ì•ˆì „ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆë‹¤.

### 3. ê²°ë¡ 

- ë” ì í•©í•œ ë°ì´í„° íƒ€ì…ì´ ìˆë‹¤ë©´ ë¬¸ìì—´ ì‚¬ìš©ì„ í”¼í•˜ë¼
- ë¬¸ìì—´ì€ ì˜ëª» ì‚¬ìš©í•˜ë©´ ë²ˆê±°ë¡­ê³ , ëœ ìœ ì—°í•˜ë©°, ëŠë¦¬ê³ , ì˜¤ë¥˜ ê°€ëŠ¥ì„±ì´ í¬ë‹¤

## References

- [ì“°ë ˆë“œ ë¡œì»¬ (Thread Local)](https://broccoliii.tistory.com/9)
- [https://velog.io/@jkh9615/Javaì˜-ThreadLocal-ê°œë…-ì‚¬ìš©ë²•-ì£¼ì˜ì‚¬í•­#threadlocal](https://velog.io/@jkh9615/Java%EC%9D%98-ThreadLocal-%EA%B0%9C%EB%85%90-%EC%82%AC%EC%9A%A9%EB%B2%95-%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD#threadlocal)
